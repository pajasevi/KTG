$(function(){if($(window).resize(function(){KTG.resizeToCover()}),$(window).trigger("resize"),Modernizr.video&&!KTG.isMobile()&&"true"!=$.cookie("no-video")){$.cookie("no-video","false",{path:"/"});var e={introVideo:videojs("introVideo"),czBlinkOnVideo:videojs("czBlinkOnVideo"),czBlinkOffVideo:videojs("czBlinkOffVideo"),enBlinkOnVideo:videojs("enBlinkOnVideo"),enBlinkOffVideo:videojs("enBlinkOffVideo"),czParkVideo:videojs("czParkVideo"),enParkVideo:videojs("enParkVideo")};KTG.sound=document.getElementById("backgroundSound"),KTG.muteSound=function(){$.each(e,function(e,n){n.muted(!0),$(".mute-button").removeClass("mute-on").addClass("mute-off")}),KTG.sound.muted=!0},KTG.unMuteSound=function(){$.each(e,function(e,n){n.muted(!1),$(".mute-button").removeClass("mute-off").addClass("mute-on")}),KTG.sound.muted=!1},KTG.checkMute=function(){"true"==$.cookie("muted")&&KTG.muteSound()},KTG.VideoController=function(){e.czBlinkOnVideo.on("ended",function(){$("#czBlinkOnVideo").hide(),$("#czBlinkOffVideo").show(),e.czParkVideo.currentTime(1)}),e.czBlinkOffVideo.on("ended",function(){e.czBlinkOnVideo.currentTime(0),$("#czBlinkOffVideo").hide(0,function(){e.czBlinkOffVideo.currentTime(0),e.czParkVideo.currentTime(0)})}),e.enBlinkOnVideo.on("ended",function(){$("#enBlinkOnVideo").hide(),$("#enBlinkOffVideo").show(),e.enParkVideo.currentTime(1)}),e.enBlinkOffVideo.on("ended",function(){e.enBlinkOnVideo.currentTime(0),$("#enBlinkOffVideo").hide(0,function(){e.enBlinkOffVideo.currentTime(0),e.enParkVideo.currentTime(0)})}),e.introVideo.on("ended",function(){KTG.appendFirst(),KTG.sound.play()}),e.czParkVideo.on("ended",function(){window.location.href+="cz/",$("#czParkVideo").hide(),KTG.appendFirst()}),e.enParkVideo.on("ended",function(){window.location.href+="en/",$("#enParkVideo").hide(),KTG.appendFirst()});var n=[],o="idle",i=null,t=function(){return o},d=function(e){o=e,"idle"===e&&c()},u=function(){return"idle"===t()},c=function(){oldState=t(),n=l(n),n=r(n),newState=n.shift(),newState&&(e[newState]&&(e[newState].one("ended",function(){d("idle")}),$("#"+newState).show(0,function(){e[newState].play(),i=newState})),d(newState))},l=function(e){return e.reduce(function(e,n){return e.indexOf(n)<0&&e.push(n),e},[])},r=function(e){return e[0]&&e[1]&&e[0].indexOf("OnVideo")>=0&&e[1].indexOf("OffVideo")>=0&&(e.shift(),e.shift()),e},a=function(e){n.push(e),n=l(n),n=r(n),u()&&c()};return{enqueue:a,videos:e}};var n=new KTG.VideoController;n.enqueue("introVideo"),$(".lang-link.cz").on("mouseenter",function(){n.enqueue("czBlinkOnVideo")}),$(".lang-link.cz").on("mouseleave",function(){n.enqueue("czBlinkOffVideo")}),$(".lang-link.en").on("mouseenter",function(){n.enqueue("enBlinkOnVideo")}),$(".lang-link.en").on("mouseleave",function(){n.enqueue("enBlinkOffVideo")}),$(".lang-link.cz").on("click",function(o){o.preventDefault(),e.czParkVideo.currentTime(1),n.enqueue("czParkVideo"),KTG.hideFirst()}),$(".lang-link.en").on("click",function(o){o.preventDefault(),e.enParkVideo.currentTime(1),n.enqueue("enParkVideo"),KTG.hideFirst()}),KTG.checkMute()}else $("#video-wrap").remove(),$("html").addClass("video-declined"),$(".mute-button").remove(),KTG.videoDeclined=!0,KTG.appendFirst(),$.cookie("no-video","true",{path:"/"}),$(".lang-link.cz").on("click",function(e){e.preventDefault(),window.location.href+="cz/"}),$(".lang-link.en").on("click",function(e){e.preventDefault(),window.location.href+="en/"}),$(".lang-link.cz").on("mouseover",function(){$("html").addClass("cz")}),$(".lang-link.cz").on("mouseout",function(){$("html").removeClass("cz")}),$(".lang-link.en").on("mouseover",function(){$("html").addClass("en")}),$(".lang-link.en").on("mouseout",function(){$("html").removeClass("en")});$(".video-switcher.off").on("click",function(){$.cookie("no-video","true",{path:"/"}),window.location.reload()}),$(".video-switcher.on").on("click",function(){$.removeCookie("no-video",{path:"/"}),window.location.reload()}),$(".lang-link.cz").on("mouseover",function(){$(".tooltip.cz").animate({opacity:1,top:"-=10"},300)}),$(".lang-link.cz").on("mouseout",function(){$(".tooltip.cz").animate({opacity:0,top:"+=10"},300)}),$(".lang-link.en").on("mouseover",function(){$(".tooltip.en").animate({opacity:1,top:"-=10"},300)}),$(".lang-link.en").on("mouseout",function(){$(".tooltip.en").animate({opacity:0,top:"+=10"},300)}),$(".mute-button").on("click",function(e){e.preventDefault(),$(this).hasClass("mute-on")?(KTG.muteSound(),$.cookie("muted","true")):(KTG.unMuteSound(),$.cookie("muted","false"))})});