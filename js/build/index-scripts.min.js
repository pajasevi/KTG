$(function(){if($(window).resize(function(){KTG.resizeToCover()}),$(window).trigger("resize"),Modernizr.video&&!KTG.isMobile()&&"true"!=$.cookie("no-video")){$.cookie("no-video","false",{path:"/"});var n={introVideo:videojs("introVideo"),czBlinkOnVideo:videojs("czBlinkOnVideo"),czBlinkOffVideo:videojs("czBlinkOffVideo"),enBlinkOnVideo:videojs("enBlinkOnVideo"),enBlinkOffVideo:videojs("enBlinkOffVideo"),czParkVideo:videojs("czParkVideo"),enParkVideo:videojs("enParkVideo")};KTG.sound=document.getElementById("backgroundSound"),KTG.muteSound=function(){$.each(n,function(n,e){e.muted(!0),$(".mute-button").removeClass("mute-on").addClass("mute-off")}),KTG.sound.muted=!0},KTG.unMuteSound=function(){$.each(n,function(n,e){e.muted(!1),$(".mute-button").removeClass("mute-off").addClass("mute-on")}),KTG.sound.muted=!1},KTG.checkMute=function(){"true"==$.cookie("muted")&&KTG.muteSound()},KTG.VideoController=function(){n.czBlinkOnVideo.on("ended",function(){$("#czBlinkOnVideo").hide(),$("#czBlinkOffVideo").show(),n.czParkVideo.currentTime(1)}),n.czBlinkOffVideo.on("ended",function(){n.czBlinkOnVideo.currentTime(0),$("#czBlinkOffVideo").hide(0,function(){n.czBlinkOffVideo.currentTime(0),n.czParkVideo.currentTime(0)})}),n.enBlinkOnVideo.on("ended",function(){$("#enBlinkOnVideo").hide(),$("#enBlinkOffVideo").show(),n.enParkVideo.currentTime(1)}),n.enBlinkOffVideo.on("ended",function(){n.enBlinkOnVideo.currentTime(0),$("#enBlinkOffVideo").hide(0,function(){n.enBlinkOffVideo.currentTime(0),n.enParkVideo.currentTime(0)})}),n.introVideo.on("ended",function(){KTG.appendFirst(),KTG.sound.play()}),n.czParkVideo.on("ended",function(){window.location.href+="cz/",KTG.appendFirst()}),n.enParkVideo.on("ended",function(){window.location.href+="en/",KTG.appendFirst()});var e=[],o="idle",i=null,t=function(){return o},u=function(n){o=n,"idle"===n&&c()},d=function(){return"idle"===t()},c=function(){oldState=t(),e=l(e),e=f(e),newState=e.shift(),newState&&(n[newState]&&(n[newState].one("ended",function(){u("idle")}),$("#"+newState).show(0,function(){n[newState].play(),i=newState})),u(newState))},l=function(n){return n.reduce(function(n,e){return n.indexOf(e)<0&&n.push(e),n},[])},f=function(n){return n[0]&&n[1]&&n[0].indexOf("OnVideo")>=0&&n[1].indexOf("OffVideo")>=0&&(n.shift(),n.shift()),n},a=function(n){e.push(n),e=l(e),e=f(e),d()&&c()};return{enqueue:a,videos:n}};var e=new KTG.VideoController;e.enqueue("introVideo"),$(".lang-link.cz").on("mouseenter",function(){e.enqueue("czBlinkOnVideo")}),$(".lang-link.cz").on("mouseleave",function(){e.enqueue("czBlinkOffVideo")}),$(".lang-link.en").on("mouseenter",function(){e.enqueue("enBlinkOnVideo")}),$(".lang-link.en").on("mouseleave",function(){e.enqueue("enBlinkOffVideo")}),$(".lang-link.cz").on("click",function(n){n.preventDefault(),$("#czParkVideo").show(0,function(){e.enqueue("czParkVideo"),KTG.hideFirst()})}),$(".lang-link.en").on("click",function(n){n.preventDefault(),$("#enParkVideo").show(0,function(){e.enqueue("enParkVideo"),KTG.hideFirst()})}),KTG.checkMute()}else $("#video-wrap").remove(),$("html").addClass("video-declined"),$(".mute-button").remove(),KTG.videoDeclined=!0,KTG.appendFirst(),$.cookie("no-video","true",{path:"/"}),$(".lang-link.cz").on("click",function(n){n.preventDefault(),window.location.href+="cz/"}),$(".lang-link.en").on("click",function(n){n.preventDefault(),window.location.href+="en/"}),$(".lang-link.cz").on("mouseover",function(){$("html").addClass("cz")}),$(".lang-link.cz").on("mouseout",function(){$("html").removeClass("cz")}),$(".lang-link.en").on("mouseover",function(){$("html").addClass("en")}),$(".lang-link.en").on("mouseout",function(){$("html").removeClass("en")});$(".video-switcher.off").on("click",function(){$.cookie("no-video","true",{path:"/"}),window.location.reload()}),$(".video-switcher.on").on("click",function(){$.removeCookie("no-video",{path:"/"}),window.location.reload()}),$(".lang-link.cz").on("mouseover",function(){$(".tooltip.cz").animate({opacity:1,top:"-=10"},300)}),$(".lang-link.cz").on("mouseout",function(){$(".tooltip.cz").animate({opacity:0,top:"+=10"},300)}),$(".lang-link.en").on("mouseover",function(){$(".tooltip.en").animate({opacity:1,top:"-=10"},300)}),$(".lang-link.en").on("mouseout",function(){$(".tooltip.en").animate({opacity:0,top:"+=10"},300)}),$(".mute-button").on("click",function(n){n.preventDefault(),$(this).hasClass("mute-on")?(KTG.muteSound(),$.cookie("muted","true")):(KTG.unMuteSound(),$.cookie("muted","false"))})});